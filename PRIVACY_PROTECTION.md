# プライバシー保護機能

## 概要

このプロジェクトでは、パブリックリポジトリでの個人名公開を避けるため、歌手名をBase64エンコードして保存し、アプリ実行時にデコードして表示する仕組みを実装しています。

## 目的

- **検索回避**: Google検索などで個人名がヒットすることを防ぐ
- **プライバシー保護**: 実在する歌手の方々の個人情報保護
- **シンプル性**: データベース不要でファイルベースでの実装

## 実装方式

### エンコード方式
- **Base64エンコード**: UTF-8 → Base64変換
- **可逆性**: 完全にデコード可能
- **軽量**: 追加ライブラリ不要

### ファイル構造
```json
{
    "title": "楽曲名",
    "singer": "5bKh5bWc5ZKM576p"  // "岡嵜和義"のBase64エンコード
}
```

## 使用方法

### 1. 新しい歌手名の追加
```dart
// 新しい歌手名をエンコード
final encoded = SingerEncoder.encode('新しい歌手名');
// song.jsonに保存: "singer": "encoded_value"
```

### 2. 表示時のデコード
```dart
// アプリでの表示時
final displayName = SingerEncoder.decode(song['singer']);
```

### 3. 一括変換ツール
```bash
# 既存のsong.jsonを一括エンコード
dart tools/encode_singers.dart
```

## クラス構成

### SingerEncoder
- `encode(String)`: 歌手名をBase64エンコード
- `decode(String)`: Base64文字列をデコード（平文も通す）
- `isEncoded(String)`: エンコード済みかどうか判定
- `encodeSongsData(List)`: 楽曲データ一括エンコード

## セキュリティレベル

**注意**: これは軽量なエンコードであり、暗号化ではありません。

- ✅ **検索回避**: Google検索での個人名ヒットを防ぐ
- ✅ **一般的なプライバシー保護**: 一般ユーザーからの個人名隠蔽
- ❌ **本格的なセキュリティ**: 技術者なら簡単にデコード可能

## 互換性

- **既存データ**: 平文の歌手名も自動的に処理される
- **段階的移行**: エンコード済みと平文の混在も可能
- **後方互換性**: 古いデータ形式も継続サポート

## 実装ファイル

- `lib/utils/singer_encoder.dart`: メインロジック
- `tools/encode_singers.dart`: 一括変換ツール
- `tools/test_encoder.dart`: 動作確認テスト

## 運用ルール

1. **新規追加**: 必ずエンコードして追加
2. **コミット**: 個人名を含まないメッセージを使用
3. **公開前**: エンコード状態を確認
4. **メンテナンス**: 定期的な動作確認
