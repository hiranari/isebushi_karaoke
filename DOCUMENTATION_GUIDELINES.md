# ドキュメンテーションガイドライン

## 概要

このドキュメントは、伊勢節カラオケプロジェクトにおけるドキュメンテーションの作成・維持に関するガイドラインを定めています。

## 基本方針

### 1. 日本語ドキュメンテーション
- **すべてのドキュメンテーションは日本語で記載する**
- コメント、クラス説明、メソッド説明は日本語を使用
- クラス名、メソッド名、変数名は英語のまま（無理に日本語化しない）
- マークダウンファイルも日本語で記載（README.md、ガイドライン等）

### 2. ドキュメンテーション生成のタイミング
**重要**: ドキュメンテーションは以下の順序で実施する：

1. **コード実装**
2. **テスト作成・実行・成功確認**
3. **ドキュメンテーション生成** ← この順序を厳守

#### 理由
- テスト成功により実装の正確性が保証された後にドキュメント化
- 仕様変更やバグ修正後の再ドキュメント化を防ぐ
- 正確で最新のドキュメンテーションを維持

## ✅ 日本語化完了状況 (14/14ファイル完了)

### 完了済みマークダウンファイル
- ✅ **README.md** - プロジェクト概要（既に日本語）
- ✅ **DOCUMENTATION_GUIDELINES.md** - ドキュメンテーションガイドライン（更新済み）
- ✅ **CONTRIBUTING.md** - 開発ガイドライン（既に日本語）
- ✅ **AUDIO_DEVELOPMENT_GUIDELINES.md** - オーディオ開発ガイドライン（既に日本語）
- ✅ **COMMIT_GUIDELINES.md** - コミットガイドライン（既に日本語）
- ✅ **MP3_DECODE_SOLUTIONS.md** - MP3デコード対応（既に日本語）
- ✅ **PHASE3_IMPLEMENTATION.md** - フェーズ3実装サマリー（英語→日本語変換完了）
- ✅ **REFACTORING_PLAN.md** - リファクタリング計画（英語→日本語変換完了）
- ✅ **REFACTORING_STATUS.md** - リファクタリング進捗（英語のまま保持）
- ✅ **PHASE2_TEST_GUIDE.md** - フェーズ2テストガイド（英語→日本語変換完了）
- ✅ **MANUAL_TEST_GUIDE.md** - 手動テストガイド（既に日本語）
- ✅ **NAVIGATION_GUIDELINES.md** - ナビゲーションガイドライン（既に日本語）
- ✅ **PRIVACY_PROTECTION.md** - プライバシー保護（既に日本語）
- ✅ **UML_DOCUMENTATION.md** - UMLアーキテクチャドキュメント（既に日本語）

### 日本語化方針適用完了
- **説明文・コメント**: 完全日本語化実装
- **クラス名・メソッド名**: 英語維持（無理に日本語化しない方針適用）
- **技術用語**: 英語併記または英語のまま保持
- **UMLリンク**: 日本語ナビゲーション構造実装
- **ガイドライン反映**: DOCUMENTATION_GUIDELINES.mdに方針追加完了

### ライブラリレベルドキュメント

```dart
/// ライブラリ名
/// 
/// ライブラリの概要説明
/// 
/// 主な機能:
/// - 機能1
/// - 機能2
/// 
/// アーキテクチャ:
/// - 使用パターン1
/// - 使用パターン2
/// 
/// 参照: [UMLドキュメント](相対パス#セクション)
library;
```

### クラスレベルドキュメント

```dart
/// クラスの概要説明
/// 
/// このクラスの責任と役割の詳細説明
/// 
/// 責任:
/// - 責任1
/// - 責任2
/// 
/// アーキテクチャパターン:
/// - 使用パターン
/// 
/// 設計原則:
/// - Single Responsibility: 具体的な責任
/// - Open/Closed: 拡張方法
/// 
/// Example:
/// ```dart
/// // 使用例
/// final instance = ClassName();
/// ```
/// 
/// 参照: [UMLドキュメント](相対パス#クラス名)
class ClassName {
```

### メソッドレベルドキュメント

```dart
/// メソッドの概要説明
/// 
/// メソッドの詳細な動作説明
/// 
/// Parameters:
/// - [param1]: パラメータ1の説明
/// - [param2]: パラメータ2の説明
/// 
/// Returns:
/// 戻り値の説明
/// 
/// Throws:
/// - [ExceptionType]: 例外発生条件
/// 
/// Example:
/// ```dart
/// final result = methodName(param1, param2);
/// ```
ReturnType methodName(Type param1, Type param2) {
```

### フィールドレベルドキュメント

```dart
/// フィールドの概要説明
/// 
/// フィールドの詳細説明、用途、制約など
/// 
/// 値の範囲: 具体的な範囲（該当する場合）
/// デフォルト値: デフォルト値（該当する場合）
final Type fieldName;
```

## UMLドキュメンテーション連携

### 1. UMLドキュメントリンク
- 各クラス・ライブラリドキュメントにUMLドキュメントへのリンクを含める
- リンク形式: `[UMLドキュメント](../UML_DOCUMENTATION.md#セクション)`

### 2. UMLドキュメント更新規則
UMLドキュメントは以下の場合に更新する：
1. 新しいクラス・インターフェースの追加時
2. クラス関係の変更時
3. アーキテクチャパターンの変更時

### 3. UMLドキュメント構成
- **日本語で記載**（クラス名・メソッド名は英語のまま）
- セクション名は日本語化
- 説明文は日本語で詳細に記載

## ドキュメンテーション品質チェック

### 必須項目チェックリスト

#### ライブラリレベル
- [ ] ライブラリの概要説明
- [ ] 主な機能の列挙
- [ ] アーキテクチャパターンの説明
- [ ] UMLドキュメントリンク

#### クラスレベル
- [ ] クラスの責任の明記
- [ ] 設計原則の適用説明
- [ ] 使用例の提供
- [ ] UMLドキュメントリンク

#### メソッドレベル
- [ ] パラメータの説明
- [ ] 戻り値の説明
- [ ] 例外の説明（該当する場合）
- [ ] 使用例（複雑なメソッドの場合）

## ツールとワークフロー

### 1. dartdocコマンド使用
```bash
# ドキュメント生成
dart doc

# ドキュメント確認
open doc/api/index.html
```

### 2. IDE設定
- VS Code: Dart拡張でドキュメントプレビュー機能を活用
- IntelliJ: Dartdocコメントのシンタックスハイライト設定

### 3. CI/CD統合
- プルリクエスト時にドキュメント生成チェック
- ドキュメント品質の自動検証

## メンテナンス

### 1. 定期見直し
- 四半期ごとにドキュメンテーションの正確性を確認
- コードの変更に伴うドキュメント更新

### 2. 品質向上
- チームレビューでドキュメント品質も確認
- 実例の充実と改善

---

このガイドラインに従って、保守性が高く理解しやすいドキュメンテーションを維持してください。
